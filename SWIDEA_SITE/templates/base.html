<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì•„ì´ë””ì–´ ì‚¬ì´íŠ¸</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
    <ul style="display: flex; align-items: center; list-style: none; background: #111; color: #fff; padding: 10px;">
        <!-- ì™¼ìª½ ì œëª© -->
        <li style="margin-right: 60px; font-weight: bold; font-size: 18px;">
        <a href="{% url 'ideas:idea_list' %}" style="color: #fff; text-decoration: none;">
            My <span style="color: #7CFC00;">SW Idea</span> Manage
        </a>
        </li>

        <!-- ì˜¤ë¥¸ìª½ ë©”ë‰´ -->
        <li style="margin-right: 40px;">
        <a href="{% url 'ideas:idea_add' %}" style="color: #fff; text-decoration: none;">ì•„ì´ë””ì–´ ë“±ë¡</a>
        </li>
        <li style="margin-right: 40px;">
        <a href="{% url 'ideas:idea_list' %}" style="color: #fff; text-decoration: none;">ì•„ì´ë””ì–´ ê´€ë¦¬</a>
        </li>
        <li style="margin-right: 40px;">
        <a href="{% url 'devtools:devtool_add' %}" style="color: #fff; text-decoration: none;">ê°œë°œíˆ´ ë“±ë¡</a>
        </li>
        <li>
        <a href="{% url 'devtools:devtool_list' %}" style="color: #fff; text-decoration: none;">ê°œë°œíˆ´ ê´€ë¦¬</a>
        </li>
    </ul>
    </nav>

    <div class="container">
        {% block content %}{% endblock %}
    </div>
</body>
</html>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    // â­ ì°œí•˜ê¸° ë²„íŠ¼ í´ë¦­
    $('.star-btn').click(function() {
        const ideaId = $(this).data('id');
        $.ajax({
            url: `/` + ideaId + `/star/`,
            type: 'POST',
            headers: {'X-CSRFToken': '{{ csrf_token }}'},
            success: function(response) {
                alert(response.starred ? 'ì°œ ì™„ë£Œ!' : 'ì°œ ì·¨ì†Œ!');
                location.reload();  // ìƒˆë¡œê³ ì¹¨ (ì›í•˜ë©´ UIë§Œ ì—…ë°ì´íŠ¸ë¡œ ë°”ê¿”ë„ ë¨)
            }
        });
    });

    // ğŸ”¼ğŸ”½ ê´€ì‹¬ë„ +/-
    $('.interest-btn').click(function() {
        const ideaId = $(this).data('id');
        const action = $(this).data('action');
        $.ajax({
            url: `/` + ideaId + `/interest/`,
            type: 'POST',
            headers: {'X-CSRFToken': '{{ csrf_token }}'},
            data: {action: action},
            success: function(response) {
                alert('ê´€ì‹¬ë„: ' + response.interest);
                location.reload();
            }
        });
    });
});
</script>
