<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>아이디어 사이트</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
    <ul style="display: flex; align-items: center; list-style: none; background: #111; color: #fff; padding: 10px;">
        <!-- 왼쪽 제목 -->
        <li style="margin-right: 60px; font-weight: bold; font-size: 18px;">
        <a href="{% url 'ideas:idea_list' %}" style="color: #fff; text-decoration: none;">
            My <span style="color: #7CFC00;">SW Idea</span> Manage
        </a>
        </li>

        <!-- 오른쪽 메뉴 -->
        <li style="margin-right: 40px;">
        <a href="{% url 'ideas:idea_add' %}" style="color: #fff; text-decoration: none;">아이디어 등록</a>
        </li>
        <li style="margin-right: 40px;">
        <a href="{% url 'ideas:idea_list' %}" style="color: #fff; text-decoration: none;">아이디어 관리</a>
        </li>
        <li style="margin-right: 40px;">
        <a href="{% url 'devtools:devtool_add' %}" style="color: #fff; text-decoration: none;">개발툴 등록</a>
        </li>
        <li>
        <a href="{% url 'devtools:devtool_list' %}" style="color: #fff; text-decoration: none;">개발툴 관리</a>
        </li>
    </ul>
    </nav>

    <div class="container">
        {% block content %}{% endblock %}
    </div>
</body>
</html>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    // ⭐ 찜하기 버튼 클릭
    $('.star-btn').click(function() {
        const ideaId = $(this).data('id');
        $.ajax({
            url: `/` + ideaId + `/star/`,
            type: 'POST',
            headers: {'X-CSRFToken': '{{ csrf_token }}'},
            success: function(response) {
                alert(response.starred ? '찜 완료!' : '찜 취소!');
                location.reload();  // 새로고침 (원하면 UI만 업데이트로 바꿔도 됨)
            }
        });
    });

    // 🔼🔽 관심도 +/-
    $('.interest-btn').click(function() {
        const ideaId = $(this).data('id');
        const action = $(this).data('action');
        $.ajax({
            url: `/` + ideaId + `/interest/`,
            type: 'POST',
            headers: {'X-CSRFToken': '{{ csrf_token }}'},
            data: {action: action},
            success: function(response) {
                alert('관심도: ' + response.interest);
                location.reload();
            }
        });
    });
});
</script>
